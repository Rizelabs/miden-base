<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Transaction Procedures - Polygon Miden Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../introduction/overview.html"><strong aria-hidden="true">1.1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="../introduction/getting-started.html"><strong aria-hidden="true">1.2.</strong> Getting started</a></li></ol></li><li class="chapter-item expanded "><a href="../architecture.html"><strong aria-hidden="true">2.</strong> Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../architecture/accounts.html"><strong aria-hidden="true">2.1.</strong> Accounts</a></li><li class="chapter-item expanded "><a href="../architecture/notes.html"><strong aria-hidden="true">2.2.</strong> Notes</a></li><li class="chapter-item expanded "><a href="../architecture/assets.html"><strong aria-hidden="true">2.3.</strong> Assets</a></li><li class="chapter-item expanded "><a href="../architecture/transactions.html"><strong aria-hidden="true">2.4.</strong> Transactions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../transactions/transaction-execution.html"><strong aria-hidden="true">2.4.1.</strong> Transaction Execution</a></li><li class="chapter-item expanded "><a href="../transactions/transaction-kernel.html"><strong aria-hidden="true">2.4.2.</strong> Transaction Kernel</a></li><li class="chapter-item expanded "><a href="../transactions/transaction-procedures.html" class="active"><strong aria-hidden="true">2.4.3.</strong> Transaction Procedures</a></li><li class="chapter-item expanded "><a href="../transactions/transaction-modes.html"><strong aria-hidden="true">2.4.4.</strong> Transaction Modes</a></li></ol></li><li class="chapter-item expanded "><a href="../architecture/state.html"><strong aria-hidden="true">2.5.</strong> State</a></li><li class="chapter-item expanded "><a href="../architecture/execution.html"><strong aria-hidden="true">2.6.</strong> Execution</a></li></ol></li><li class="chapter-item expanded "><a href="../network.html"><strong aria-hidden="true">3.</strong> Network</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../network/miden-clients.html"><strong aria-hidden="true">3.1.</strong> Miden Clients</a></li><li class="chapter-item expanded "><a href="../network/miden-node.html"><strong aria-hidden="true">3.2.</strong> Miden Node</a></li><li class="chapter-item expanded "><a href="../network/verifier-contract.html"><strong aria-hidden="true">3.3.</strong> Verifier Contract</a></li><li class="chapter-item expanded "><a href="../network/bridge.html"><strong aria-hidden="true">3.4.</strong> Bridge</a></li></ol></li><li class="chapter-item expanded "><a href="../roadmap.html"><strong aria-hidden="true">4.</strong> Roadmap</a></li><li class="chapter-item expanded "><a href="../crypto-primitives.html"><strong aria-hidden="true">5.</strong> Cryptographic primitives</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../crypto-primitives/tsmt.html"><strong aria-hidden="true">5.1.</strong> Tiered Sparse Merkle Tree (TSMT)</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Polygon Miden Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/0xPolygonMiden/miden-base/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="transaction-contexts"><a class="header" href="#transaction-contexts">Transaction Contexts</a></h1>
<p>Miden assembly program execution can span multiple isolated contexts. An execution context defines its own memory space which is not accessible from other execution contexts. Note scripts cannot directly write into account data. This should be possible if only if the account exposes respective functions.</p>
<p>The kernel program always starts executing in a root context. Thus, the prologue sets the memory for the root context. To move execution into a different context, we can invoke a procedure using the <code>call</code> or <code>dyncall</code> instruction. In fact, any time we invoke a procedure using the <code>call</code> instruction, the procedure is executed in a new context. </p>
<p>While executing in a note, account, or tx script context, we can request to execute some procedures in the kernel context, which is where all necessary information was stored during the prologue. Switching to the kernle context can be done via the <code>syscall</code> instruction. The set of procedures which can be invoked via the <code>syscall</code> instruction is limited by the <a href="https://github.com/0xPolygonMiden/miden-base/blob/main/miden-lib/asm/kernels/transaction/api.masm">transaction kernel API</a>. Once the procedure call via <code>syscall</code> returns, the execution moves back to the note, account, or tx script from which it was invoked.</p>
<p><br />
</p>
<p align="center">
    <img src="../diagrams/architecture/transaction/Transaction_contexts.png" style="width: 100%;">
</p>
<p><br />
</p>
<p>The above diagram shows different context switches in a simple transaction. In this example, an account consumes a <a href="https://github.com/0xPolygonMiden/miden-base/blob/main/miden-lib/asm/note_scripts/P2ID.masm">P2ID</a> note and receives the asset into its vault. As with in any MASM program, the transaction kernel program starts in the root context. It executes the Prologue and stores all necessary information into the root memory. </p>
<p>The next step, note processing, starts with a <code>dyncall</code> and in doing so, invoking the note script. This command moves execution into a different context <strong>(1)</strong>. In this new context, the note has no access to the kernel memory. After a successful ID check, which changes back to the kernel context twice to get the note inputs and the account id, the script executes the <code>add_note_assets_to_account</code> procedure.</p>
<pre><code># Pay-to-ID script: adds all assets from the note to the account, assuming ID of the account
# matches target account ID specified by the note inputs.
# ...
begin
    
    ... &lt;check correct ID&gt;

    exec.add_note_assets_to_account
    # =&gt; [...]
end
</code></pre>
<p>The procedure cannot simply add assets to the account, because it is executed in a note context. Therefore, it needs to <code>call</code> the account interface. And in doing so, it moves execution into a second context - Account context - isolated from the note context <strong>(2)</strong>. </p>
<pre><code>#! Helper procedure to add all assets of a note to an account.
#! ...
proc.add_note_assets_to_account
    ...

    while.true
        ...

        # load the asset and add it to the account
        mem_loadw call.wallet::receive_asset
        # =&gt; [ASSET, ptr, end_ptr, ...]
        ...
    end
    ...
end
</code></pre>
<p>The <a href="https://github.com/0xPolygonMiden/miden-base/blob/main/miden-lib/asm/miden/contracts/wallets/basic.masm">wallet</a> smart contract provides an interface for accounts to recieve and send assets. In this new context, the wallet calls the <code>add_asset</code> procedure of the account API. </p>
<pre><code>export.receive_asset
    exec.account::add_asset
    ...
end
</code></pre>
<p>The <a href="https://github.com/0xPolygonMiden/miden-base/blob/main/miden-lib/asm/miden/account.masm#L162">account API</a> exposes procedures to manage accounts. This particular procedure that was called by the wallet invokes a <code>syscall</code> to return back to the root context <strong>(3)</strong>, where the account vault is stored in memory (see Prologue). <code>syscall</code> can incoke all procedures defined in the <a href="https://github.com/0xPolygonMiden/miden-base/blob/main/miden-lib/asm/kernels/transaction/api.masm">Kernel API</a>.</p>
<pre><code>#! Add the specified asset to the vault.
#! ...
export.add_asset
    syscall.account_vault_add_asset
end
</code></pre>
<p>Now, the asset can be safely added to the vault within the kernel context and the note successfully be processed. </p>
<h1 id="transaction-procedures"><a class="header" href="#transaction-procedures">Transaction Procedures</a></h1>
<p>There are user-facing procedures and kernel procedures. Users don't directly invoke kernel procedures, but indirectly via account code, note or transaction scripts. In that case, kernel procedures can only be invoked by a <code>syscall</code> instruction which always executes in the kernel context. </p>
<h2 id="user-facing-procedures-apis"><a class="header" href="#user-facing-procedures-apis">User-facing Procedures (APIs)</a></h2>
<p>These procedures can be used to create smart contract / account code, note scripts or account scripts. They basically serve as an API for the underlying kernel procedures. If a procedure can be called in the current context an <code>exec</code> is sufficient, otherwise if being the wrong context procedures must be invoked by <code>call</code>. Users will never need to invoke <code>syscall</code> procedures themselves. </p>
<p><em>Note: If capitalized, a variable represents a <code>Word</code>, e.g., <code>ACCT_HASH</code> consists of four <code>Felts</code>. If lowercase, the variable is represented by a single <code>Felt</code>.</em></p>
<h3 id="account"><a class="header" href="#account">Account</a></h3>
<p>To import the account procedures set <code>use.miden::account</code> at the beginning of the file. Any procedure that changes the account state, can only be invoked in the account context and not by note or transaction scripts. All procedures invoke <code>syscall</code> to the kernel API and some are restricted by the kernel procedure <code>exec.authenticate_account_origin</code>, which fails if the parent context is not the executing account.</p>
<div class="table-wrapper"><table><thead><tr><th>Procedure name</th><th>Stack</th><th>Output</th><th>Context</th><th>Description</th></tr></thead><tbody>
<tr><td><code>get_id</code></td><td><code>[]</code></td><td><code>[acct_id]</code></td><td>account, note</td><td><details><summary>View</summary>Returns the account id. acct_id is the account id.</details></td></tr>
<tr><td><code>get_nonce</code></td><td><code>[]</code></td><td><code>[nonce]</code></td><td>account, note</td><td><details><summary>View</summary>Returns the account nonce. nonce is the account nonce.</details></td></tr>
<tr><td><code>get_initial_hash</code></td><td><code>[]</code></td><td><code>[H]</code></td><td>account, note</td><td><details><summary>View</summary>Returns the initial account hash. H is the initial account hash.</details></td></tr>
<tr><td><code>get_current_hash</code></td><td><code>[]</code></td><td><code>[ACCT_HASH]</code></td><td>account, note</td><td><details><summary>View</summary>Computes and returns the account hash from account data stored in memory. ACCT_HASH is the hash of the account data.</details></td></tr>
<tr><td><code>incr_nonce</code></td><td><code>[value]</code></td><td><code>[]</code></td><td>account</td><td><details><summary>View</summary>Increments the account nonce by the provided value. value is the value to increment the nonce by. value can be at most 2^32 - 1 otherwise this procedure panics.</details></td></tr>
<tr><td><code>get_item</code></td><td><code>[index]</code></td><td><code>[VALUE]</code></td><td>account, note</td><td><details><summary>View</summary>Gets an item from the account storage. Panics if the index is out of bounds. index is the index of the item to get. VALUE is the value of the item.</details></td></tr>
<tr><td><code>set_item</code></td><td><code>[index, V']</code></td><td><code>[R', V]</code></td><td>account</td><td><details><summary>View</summary>Sets an item in the account storage. Panics if the index is out of bounds. index is the index of the item to set. V' is the value to set. V is the previous value of the item. R' is the new storage root.</details></td></tr>
<tr><td><code>set_code</code></td><td><code>[CODE_ROOT]</code></td><td><code>[]</code></td><td>account</td><td><details><summary>View</summary>Sets the code of the account the transaction is being executed against. This procedure can only be executed on regular accounts with updatable code. Otherwise, this procedure fails. CODE_ROOT is the hash of the code to set.</details></td></tr>
<tr><td><code>get_balance</code></td><td><code>[faucet_id]</code></td><td><code>[balance]</code></td><td>account, note</td><td><details><summary>View</summary>Returns the balance of a fungible asset associated with a faucet_id. Panics if the asset is not a fungible asset. faucet_id is the faucet id of the fungible asset of interest. balance is the vault balance of the fungible asset.</details></td></tr>
<tr><td><code>has_non_fungible_asset</code></td><td><code>[ASSET]</code></td><td><code>[has_asset]</code></td><td>account, note</td><td><details><summary>View</summary>Returns a boolean indicating whether the non-fungible asset is present in the vault. Panics if the ASSET is a fungible asset. ASSET is the non-fungible asset of interest. has_asset is a boolean indicating whether the account vault has the asset of interest.</details></td></tr>
<tr><td><code>add_asset</code></td><td><code>[ASSET]</code></td><td><code>[ASSET']</code></td><td>account</td><td><details><summary>View</summary>Add the specified asset to the vault. Panics under various conditions. ASSET' final asset in the account vault defined as follows: If ASSET is a non-fungible asset, then ASSET' is the same as ASSET. If ASSET is a fungible asset, then ASSET' is the total fungible asset in the account vault after ASSET was added to it.</details></td></tr>
<tr><td><code>remove_asset</code></td><td><code>[ASSET]</code></td><td><code>[ASSET]</code></td><td>account</td><td><details><summary>View</summary>Remove the specified asset from the vault. Panics under various conditions. ASSET is the asset to remove from the vault.</details></td></tr>
<tr><td><code>get_vault_commitment</code></td><td><code>[]</code></td><td><code>[COM]</code></td><td>account, note</td><td><details><summary>View</summary>Returns a commitment to the account vault. COM is a commitment to the account vault.</details></td></tr>
</tbody></table>
</div>
<h3 id="note"><a class="header" href="#note">Note</a></h3>
<p>To import the note procedures set <code>use.miden::note</code> at the beginning of the file. All procedures are restricted to the note context.</p>
<div class="table-wrapper"><table><thead><tr><th>Procedure name</th><th>Inputs</th><th>Outputs</th><th>Context</th><th>Description</th></tr></thead><tbody>
<tr><td><code>get_assets</code></td><td><code>[dest_ptr]</code></td><td><code>[num_assets, dest_ptr]</code></td><td>note</td><td><details><summary>View</summary>Writes the assets of the currently executing note into memory starting at the specified address. dest_ptr is the memory address to write the assets. num_assets is the number of assets in the currently executing note.</details></td></tr>
<tr><td><code>get_inputs</code></td><td><code>[dest_ptr]</code></td><td><code>[dest_ptr]</code></td><td>note</td><td><details><summary>View</summary>Writes the inputs of the currently executed note into memory starting at the specified address. dest_ptr is the memory address to write the inputs.</details></td></tr>
<tr><td><code>get_sender</code></td><td><code>[]</code></td><td><code>[sender]</code></td><td>note</td><td><details><summary>View</summary>Returns the sender of the note currently being processed. Panics if a note is not being processed. sender is the sender of the note currently being processed.</details></td></tr>
</tbody></table>
</div>
<h3 id="tx"><a class="header" href="#tx">Tx</a></h3>
<p>To import the transaction procedures set <code>use.miden::tx</code> at the beginning of the file. Only the <code>create_note</code> procedure is restricted to the account context.</p>
<div class="table-wrapper"><table><thead><tr><th>Procedure name</th><th>Inputs</th><th>Outputs</th><th>Context</th><th>Description</th></tr></thead><tbody>
<tr><td><code>get_block_number</code></td><td><code>[]</code></td><td><code>[num]</code></td><td>account, note</td><td><details><summary>View</summary>Returns the block number of the last known block at the time of transaction execution. num is the last known block number.</details></td></tr>
<tr><td><code>get_block_hash</code></td><td><code>[]</code></td><td><code>[H]</code></td><td>account, note</td><td><details><summary>View</summary>Returns the block hash of the last known block at the time of transaction execution. H is the last known block hash.</details></td></tr>
<tr><td><code>get_input_notes_hash</code></td><td><code>[]</code></td><td><code>[COM]</code></td><td>account, note</td><td><details><summary>View</summary>Returns the input notes hash. This is computed as a sequential hash of (nullifier, script_root) tuples over all input notes. COM is the input notes hash.</details></td></tr>
<tr><td><code>get_output_notes_hash</code></td><td><code>[0, 0, 0, 0]</code></td><td><code>[COM]</code></td><td>account, note</td><td><details><summary>View</summary>Returns the output notes hash. This is computed as a sequential hash of (note_hash, note_metadata) tuples over all output notes. COM is the output notes hash.</details></td></tr>
<tr><td><code>create_note</code></td><td><code>[ASSET, tag, RECIPIENT]</code></td><td><code>[ptr]</code></td><td>account</td><td><details><summary>View</summary>Creates a new note and returns a pointer to the memory address at which the note is stored. ASSET is the asset to be included in the note. tag is the tag to be included in the note. RECIPIENT is the recipient of the note. ptr is the pointer to the memory address at which the note is stored.</details></td></tr>
</tbody></table>
</div>
<h3 id="asset"><a class="header" href="#asset">Asset</a></h3>
<p>To import the asset procedures set <code>use.miden::asset</code> at the beginning of the file. These procedures can only be called by faucet accounts.</p>
<div class="table-wrapper"><table><thead><tr><th>Procedure name</th><th>Stack</th><th>Output</th><th>Context</th><th>Description</th></tr></thead><tbody>
<tr><td><code>build_fungible_asset</code></td><td><code>[faucet_id, amount]</code></td><td><code>[ASSET]</code></td><td>faucet</td><td><details><summary>View</summary>Builds a fungible asset for the specified fungible faucet and amount. faucet_id is the faucet to create the asset for. amount is the amount of the asset to create. ASSET is the built fungible asset.</details></td></tr>
<tr><td><code>create_fungible_asset</code></td><td><code>[amount]</code></td><td><code>[ASSET]</code></td><td>faucet</td><td><details><summary>View</summary>Creates a fungible asset for the faucet the transaction is being executed against. amount is the amount of the asset to create. ASSET is the created fungible asset.</details></td></tr>
<tr><td><code>build_non_fungible_asset</code></td><td><code>[faucet_id, DATA_HASH]</code></td><td><code>[ASSET]</code></td><td>faucet</td><td><details><summary>View</summary>Builds a non-fungible asset for the specified non-fungible faucet and DATA_HASH. faucet_id is the faucet to create the asset for. DATA_HASH is the data hash of the non-fungible asset to build. ASSET is the built non-fungible asset.</details></td></tr>
<tr><td><code>create_non_fungible_asset</code></td><td><code>[DATA_HASH]</code></td><td><code>[ASSET]</code></td><td>faucet</td><td><details><summary>View</summary>Creates a non-fungible asset for the faucet the transaction is being executed against. DATA_HASH is the data hash of the non-fungible asset to create. ASSET is the created non-fungible asset.</details></td></tr>
</tbody></table>
</div>
<h3 id="faucet"><a class="header" href="#faucet">Faucet</a></h3>
<p>To import the faucet procedures set <code>use.miden::faucet</code> at the beginning of the file.</p>
<div class="table-wrapper"><table><thead><tr><th>Procedure name</th><th>Stack</th><th>Outputs</th><th>Context</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mint</code></td><td><code>[ASSET]</code></td><td><code>[ASSET]</code></td><td>faucet</td><td><details><summary>View</summary>Mint an asset from the faucet the transaction is being executed against. Panics under various conditions. ASSET is the asset that was minted.</details></td></tr>
<tr><td><code>burn</code></td><td><code>[ASSET]</code></td><td><code>[ASSET]</code></td><td>faucet</td><td><details><summary>View</summary>Burn an asset from the faucet the transaction is being executed against. Panics under various conditions. ASSET is the asset that was burned.</details></td></tr>
<tr><td><code>get_total_issuance</code></td><td><code>[]</code></td><td><code>[total_issuance]</code></td><td>faucet</td><td><details><summary>View</summary>Returns the total issuance of the fungible faucet the transaction is being executed against. Panics if the transaction is not being executed against a fungible faucet. total_issuance is the total issuance of the fungible faucet the transaction is being executed against.</details></td></tr>
</tbody></table>
</div>
<h2 id="kernel-procedures"><a class="header" href="#kernel-procedures">Kernel Procedures</a></h2>
<p>WIP - we will add those later. </p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../transactions/transaction-kernel.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../transactions/transaction-modes.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../transactions/transaction-kernel.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../transactions/transaction-modes.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
